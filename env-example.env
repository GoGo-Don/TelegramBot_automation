# Telegram LLM Decision Engine - Environment Configuration
# Copy this file to .env and fill in your actual values

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================

# Basic application settings
APP_NAME="Telegram LLM Decision Engine"
APP_VERSION="1.0.0"
ENVIRONMENT="development"  # development, staging, production
DEBUG_MODE="true"

# Data directories (relative to project root)
DATA_DIR="data"
DOWNLOADS_DIR="data/downloads"
PROCESSED_DIR="data/processed"
LOGS_DIR="data/logs"
CACHE_DIR="data/cache"

# Performance settings
MAX_CONCURRENT_USERS=100
REQUEST_TIMEOUT_SECONDS=30
CLEANUP_INTERVAL_HOURS=24

# Feature flags
ENABLE_METRICS="true"
ENABLE_HEALTH_CHECK="true"
ENABLE_ADMIN_PANEL="false"

# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# Encryption and security
SECURITY_ENCRYPTION_KEY=""  # Leave empty to auto-generate
SECURITY_API_RATE_LIMIT=60  # requests per minute
SECURITY_MAX_CONCURRENT_REQUESTS=10
SECURITY_SESSION_TIMEOUT_MINUTES=30
SECURITY_TOKEN_EXPIRY_HOURS=24

# =============================================================================
# TELEGRAM BOT CONFIGURATION
# =============================================================================

# Bot authentication (REQUIRED)
TELEGRAM_BOT_TOKEN="YOUR_BOT_TOKEN_HERE"  # Get from @BotFather

# Webhook settings (optional)
TELEGRAM_WEBHOOK_URL=""
TELEGRAM_WEBHOOK_SECRET=""

# File handling
TELEGRAM_MAX_FILE_SIZE_MB=50
TELEGRAM_ALLOWED_FILE_TYPES='["jpg","jpeg","png","gif","mp4","mov","pdf","txt","doc","docx"]'

# Message settings
TELEGRAM_MAX_MESSAGE_LENGTH=4096
TELEGRAM_TYPING_DELAY_SECONDS=0.5

# Bot behavior
TELEGRAM_ENABLE_GROUP_CHAT="false"
TELEGRAM_ADMIN_USER_IDS='[]'  # JSON array of admin user IDs

# =============================================================================
# LLM PROVIDER CONFIGURATION
# =============================================================================

# Primary LLM provider
LLM_PRIMARY_PROVIDER="openai"  # openai, anthropic, local
LLM_FALLBACK_PROVIDERS='["anthropic"]'

# OpenAI Configuration
LLM_OPENAI_API_KEY="YOUR_OPENAI_API_KEY"  # Get from OpenAI
LLM_OPENAI_MODEL="gpt-4"
LLM_OPENAI_TEMPERATURE=0.7
LLM_OPENAI_MAX_TOKENS=4096
LLM_OPENAI_TIMEOUT_SECONDS=60

# Anthropic Configuration
LLM_ANTHROPIC_API_KEY="YOUR_ANTHROPIC_API_KEY"  # Get from Anthropic
LLM_ANTHROPIC_MODEL="claude-3-sonnet-20240229"
LLM_ANTHROPIC_TEMPERATURE=0.7
LLM_ANTHROPIC_MAX_TOKENS=4096

# Request handling
LLM_MAX_RETRIES=3
LLM_RETRY_DELAY_SECONDS=1.0
LLM_ENABLE_STREAMING="true"

# Cost management
LLM_MONTHLY_TOKEN_LIMIT=1000000
LLM_COST_PER_TOKEN=0.00001

# =============================================================================
# WOOCOMMERCE INTEGRATION
# =============================================================================

# Store connection (optional - leave empty to disable)
WOOCOMMERCE_STORE_URL="https://your-store.com"
WOOCOMMERCE_CONSUMER_KEY="ck_your_consumer_key"
WOOCOMMERCE_CONSUMER_SECRET="cs_your_consumer_secret"
WOOCOMMERCE_API_VERSION="wc/v3"

# Connection settings
WOOCOMMERCE_TIMEOUT_SECONDS=30
WOOCOMMERCE_VERIFY_SSL="true"
WOOCOMMERCE_ENABLE_WEBHOOK="false"

# Product settings
WOOCOMMERCE_DEFAULT_STATUS="draft"
WOOCOMMERCE_AUTO_GENERATE_SKU="true"
WOOCOMMERCE_DEFAULT_CATEGORY_ID=""

# Image handling
WOOCOMMERCE_MAX_IMAGES_PER_PRODUCT=10
WOOCOMMERCE_IMAGE_QUALITY=85

# =============================================================================
# MICROSOFT EXCEL INTEGRATION
# =============================================================================

# Azure AD Application (optional - leave empty to disable)
EXCEL_CLIENT_ID="your-azure-app-client-id"
EXCEL_CLIENT_SECRET="your-azure-app-client-secret"
EXCEL_TENANT_ID="your-azure-tenant-id"

# Excel workbook settings
EXCEL_WORKBOOK_ID="your-excel-workbook-id"
EXCEL_WORKSHEET_NAME="Data"
EXCEL_START_ROW=1
EXCEL_START_COLUMN="A"

# API settings
EXCEL_API_BASE_URL="https://graph.microsoft.com/v1.0"
EXCEL_TIMEOUT_SECONDS=60

# Data handling
EXCEL_BATCH_SIZE=100
EXCEL_AUTO_FORMAT="true"
EXCEL_BACKUP_ENABLED="true"

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Primary database
DATABASE_DATABASE_URL="sqlite:///data/app.db"  # or postgresql://user:pass@host:port/db
DATABASE_ECHO_SQL="false"
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20

# Redis cache
DATABASE_REDIS_URL="redis://localhost:6379/0"
DATABASE_CACHE_TTL_SECONDS=3600
DATABASE_MAX_CACHE_SIZE_MB=100

# Backup settings
DATABASE_BACKUP_ENABLED="true"
DATABASE_BACKUP_INTERVAL_HOURS=24
DATABASE_MAX_BACKUP_FILES=7

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Global logging settings
LOGGING_LEVEL="INFO"  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOGGING_FORMAT="%(asctime)s - %(name)s - %(levelname)s - %(message)s"
LOGGING_DATE_FORMAT="%Y-%m-%d %H:%M:%S"

# File logging
LOGGING_LOG_TO_FILE="true"
LOGGING_LOG_FILE_PATH="data/logs/app.log"
LOGGING_MAX_FILE_SIZE_MB=10
LOGGING_BACKUP_COUNT=5

# Console logging
LOGGING_LOG_TO_CONSOLE="true"
LOGGING_CONSOLE_COLOR="true"

# Module-specific logging levels (JSON format)
LOGGING_MODULE_LEVELS='{"telegram":"INFO","llm":"DEBUG","woocommerce":"INFO","excel":"INFO","decision_engine":"DEBUG"}'

# Performance logging
LOGGING_ENABLE_PERFORMANCE_LOGGING="true"
LOGGING_SLOW_QUERY_THRESHOLD_SECONDS=1.0

# Structured logging
LOGGING_ENABLE_STRUCTURED_LOGGING="true"
LOGGING_LOG_CONTEXT="true"

# =============================================================================
# DEVELOPMENT SETTINGS (for development environment only)
# =============================================================================

# Development-specific overrides
DEV_SKIP_VALIDATIONS="false"
DEV_MOCK_EXTERNAL_APIS="false"
DEV_ENABLE_DEBUG_ENDPOINTS="true"
DEV_LOG_ALL_REQUESTS="false"

# Test data settings
TEST_USER_ID="12345"
TEST_CHAT_ID="-1001234567890"
TEST_FILE_PATH="tests/fixtures/test_image.jpg"

# =============================================================================
# MONITORING AND METRICS (optional)
# =============================================================================

# Prometheus metrics (if using external monitoring)
METRICS_ENABLED="false"
METRICS_PORT="8090"
METRICS_PATH="/metrics"

# Health check settings
HEALTH_CHECK_ENABLED="true"
HEALTH_CHECK_PORT="8080"
HEALTH_CHECK_PATH="/health"

# Alerting (if using external alerting)
ALERT_WEBHOOK_URL=""
ALERT_SLACK_WEBHOOK=""
ALERT_EMAIL_SMTP_SERVER=""
ALERT_EMAIL_FROM=""
ALERT_EMAIL_TO=""

# =============================================================================
# EXTERNAL SERVICES (optional)
# =============================================================================

# Image processing service
IMAGE_PROCESSING_SERVICE_URL=""
IMAGE_PROCESSING_API_KEY=""

# Translation service
TRANSLATION_SERVICE_URL=""
TRANSLATION_API_KEY=""

# Content moderation
MODERATION_SERVICE_URL=""
MODERATION_API_KEY=""

# =============================================================================
# ADVANCED SETTINGS
# =============================================================================

# Rate limiting
RATE_LIMIT_STORAGE="redis"  # memory, redis, database
RATE_LIMIT_STRATEGY="sliding_window"  # fixed_window, sliding_window

# Queue settings
QUEUE_BACKEND="memory"  # memory, redis, database
QUEUE_MAX_SIZE=1000
QUEUE_WORKER_COUNT=3

# Session management
SESSION_STORAGE="memory"  # memory, redis, database
SESSION_SERIALIZER="json"  # json, pickle
SESSION_COMPRESSION="false"

# =============================================================================
# PRODUCTION SETTINGS (for production environment only)
# =============================================================================

# Production security
PROD_FORCE_HTTPS="true"
PROD_SECURE_COOKIES="true"
PROD_CSRF_PROTECTION="true"

# Production performance
PROD_ENABLE_GZIP="true"
PROD_STATIC_FILE_CACHING="true"
PROD_DATABASE_CONNECTION_POOL=20

# Production monitoring
PROD_ERROR_REPORTING="true"
PROD_PERFORMANCE_MONITORING="true"
PROD_ACCESS_LOGGING="true"

# =============================================================================
# NOTES
# =============================================================================

# 1. All settings have sensible defaults and are optional unless marked as REQUIRED
# 2. JSON array settings must be valid JSON (use double quotes)
# 3. Boolean settings should be "true" or "false" (lowercase)
# 4. File paths are relative to the project root unless absolute
# 5. Database URLs follow standard connection string formats
# 6. API keys should never be committed to version control
# 7. Use strong, unique keys for production environments
# 8. Monitor resource usage in production (memory, disk, network)
# 9. Regularly backup your database and configuration
# 10. Test all integrations in a staging environment first